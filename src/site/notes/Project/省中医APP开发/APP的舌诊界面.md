---
{"tags":["Project/省中医APP开发/舌诊界面"],"dg-publish":true,"permalink":"/Project/省中医APP开发/APP的舌诊界面/","dgPassFrontmatter":true}
---

主要为两个部分：
已有照片和点击拍摄

# 已有照片界面
## 初版示意图：

![Pasted image 20240603195221.png|200](/img/user/Project/%E7%9C%81%E4%B8%AD%E5%8C%BBAPP%E5%BC%80%E5%8F%91/%E5%9B%BE%E7%89%87/Pasted%20image%2020240603195221.png)

## 主要功能
1. 点击已有照片那里可以返回
	1. 通过navController的接口实现
2. 患者和切换患者那里与数据关联
	1. 还未实现
3. 添加图片和重新上传：点击后可以选取相册图片并显示在画框中
	1. 通过 [[Project/AndroidStudio/权限申请\|权限申请]] 实现，较为简单
	2. 框的美术效果比较简单，需要改进
4. 提交：跳转到报告界面
	1. 通过NavController跳转，然后需要将图片给传递过期
5. 点击拍摄：当用户找不到合适的图片，需要自主拍摄
	1. 通过NavController跳转拍摄界面
6. 注意事项：按理来说是显示一些文本或者其他的一些东西，到时候再看一下要写啥。
7. 图片的检测功能
	1. [[Project/省中医APP开发/静态检测舌头\|静态检测舌头]]
	2. 检测舌头的长宽比应该为多少呢？按照几次的数据初步定的就为1.4，数据量较少，后续应该多增加几组数据

| index | width | height | 比例   | 效果  |
| ----- | ----- | ------ | ---- | --- |
| 1     | 585   | 585    | 1    | 合格  |
| 2     | 945   | 769    | 1.23 | 合格  |
| 3     | 315   | 314    | 1    | 合格  |
| 4     | 349   | 310    | 1.12 | 合格  |
| 5     | 416   | 224    | 1.85 | 不合格 |

---

# 点击拍摄界面
1. 相机功能开发：[[Project/省中医APP开发/相机开发\|相机开发]]
规范化
把各家的效果图都放一下 
![[Component/components-20240604131139.components]]

[[Project/AndroidStudio/CameraX\|CameraX]] 的使用方式：
把preview把传入进去就行了，改一下方式

---
# 出现BUG或需要改进
## 无法渲染的Bug：
当调用JNI的接口后，无法渲染页面。只能先另写一个类，不添加JNI接口，当做调试页面的，后面再看看有没有办法可以解决。

## 美术效果：
框的美术效果，都比较一般。主要是添加图片的那一块，需要改一下。